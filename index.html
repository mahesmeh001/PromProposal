<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Quiz</title>
  <!-- Bootstrap CSS -->
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
  <!--  google font-->
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">

  <style>

    .romantic-font {
      font-family: 'Parisienne', cursive; /* Apply the Parisienne font */
    }

    /* CSS for hiding questions initially */
    .question {
      display: none;
    }

    /* CSS for hiding questions initially and setting romantic background */
    body {
      background: linear-gradient(to bottom right, #ff99cc, #ff6699); /* Gradient from light pink to pink */
      background-size: cover;
      height: 100vh;
      margin: 0;
      padding: 0;
      font-family: 'Cormorant Garamond', serif;
    }

    .container {
      background-color: rgba(255, 255, 255, 0.8); /* Add a semi-transparent white background to the container */
      padding: 20px;
      border-radius: 10px;
    }

    /* Heart animation */
    .heart {
      position: absolute;
      width: 20px;
      height: 20px;
      background-image: url('https://static.vecteezy.com/system/resources/previews/001/187/438/original/heart-png.png'); /* Heart icon */
      background-size: cover;
      animation: flyHearts 5s linear infinite; /* Flying animation */
    }

    /* Keyframes for flying animation */
    @keyframes flyHearts {
      0% {
        transform: translate(0, 0) rotate(0deg);
      }
      100% {
        transform: translate(-100vw, -100vh) rotate(720deg); /* Move the hearts diagonally and rotate */
      }
    }

    /* Shake animation */
    @keyframes shake {
      0% { transform: translateX(0); }
      25% { transform: translateX(-5px); }
      50% { transform: translateX(5px); }
      75% { transform: translateX(-5px); }
      100% { transform: translateX(0); }
    }

    .shake {
      animation: shake 0.5s;
    }


  </style>
</head>
<body>
<div class="container">
  <div class="row">
    <div class="col-md-6 mx-auto">
      <div id="quiz" class="mt-5">
        <h1 class="text-center romantic-font">Ultra-Romantic Prom Proposal</h1>
        <p class="text-center font-italic">Made with love</p>
        <form id="quiz-form">
          <div id="question1" class="question">
          <div class="form-group">
            <label for="q1">What is my favorite face of yours?</label>
            <select id="q1" class="form-control" name="q1" onchange="showNextQuestion('question2', this)">
              <option value="">Select an answer</option>
              <option data-correct="true">Pouting</option>
              <option>Sleeping</option>
              <option>Smiling</option>
              <option>Yapping</option>
            </select>
          </div>
            <div id="smiling" style="display: none; color: blue;">Close but no</div>
            <div id="sleeping" style="display: none; color: blue;">no bc im not a creepo like someone is...</div>

          </div>
          <br>
          <div id="question2" class="question">
            <div class="form-group" style="display: inherit;">
              <label for="q2">Why do you have such squishy cheeks?</label>
              <select id="q2" class="form-control" name="q2" onchange="showNextQuestion('question3', this)">
                <option>Select an answer</option>
                <option>Genetics</option>
                <option>For squeezing</option>
                <option>To inspire those squishy toy companies</option>
                <option data-correct="true">For the old Alaskan kiss</option>
              </select>
            </div>
            <div id="toy" style="display: none; color: blue;">I was very tempted to put this as the right answer</div>
            <div id="alaskan" style="display: none; color: blue;">I only today realized an alaskan kiss is rubbing noses
              and not cheeks</div>
          </div>


          <br>
          <div id="question3" class="question">
            <div class="form-group" style="display: inherit;">
              <label for="q3">Who is the craziest?</label>
              <select id="q3" class="form-control" name="q3" onchange="showNextQuestion('question4', this)">
                <option value="">Select an answer</option>
                <option data-correct="true">You (mani)</option>
                <option>Me (mehul)</option>
              </select>
            </div>
            <div id="me" style="display: none; color: blue;">And that is why you're the craziest</div>
          </div>

          <br>
          <div id="question4" class="question">
            <div class="form-group" style="display: inherit;">
              <label for="q4">What would happen in a dance off between us?</label>
              <select id="q4" class="form-control" name="q3" onchange="showNextQuestion('question5', this)">
                <option value="">Select an answer</option>
                <option>I would do Bhangra moves and you would do various styles and it would be a good competition.</option>
                <option data-correct="true">You would find a way to punch me in the balls, winning by eliminating the competition. (ruthless)</option>
                <option>You would get nervous because we're in public.</option>
              </select>
            </div>
            <div id="elimination" style="display: none; color: blue;">Survival of the fittest I guess</div>
          </div>


          <br>
          <div id="question5" class="question">
            <div class="form-group" style="display: inherit;">
              <label for="q5">What is my favorite aspect of yours?</label>
              <select id="q5" class="form-control" name="q3" onchange="showNextQuestion('question6', this)">
                <option value="">Select an answer</option>
                <option>Your kindness and thoughtfulness in how you treat others, always help people and get amazing gifts</option>
                <option>Your sense of humor and how you make me laugh so hard</option>
                <option>Your supportive nature and how you are always there for me in hard times</option>
                <option>Our overall connection which comes so naturally and pushes me to be better every day</option>
                <option data-correct="true">All of the above</option>
                <option></option>
              </select>
            </div>
          </div>

          <br>
          <div id="question6" class="question">
            <div class="form-group" style="display: inherit;">
              <label for="q6">Will you go to prom with me?</label>
              <select id="q6" class="form-control" name="q3" onchange="showNextQuestion(null, this)">
                <option value="">Select an answer</option>
                <option data-correct="true">Yes!</option>
                <option>No.</option>
              </select>
            </div>
          </div>


        </form>
      </div>
    </div>
  </div>
</div>

<!-- Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.0.1"></script>

<script>



  //function for fun updates
  function funUpdates(selectElement){
    const selectedOption = selectElement.options[selectElement.selectedIndex].text;
    console.log(selectElement)
    if (selectedOption === "For the old Alaskan kiss") {
      document.getElementById("alaskan").style.display = "block";
    }
    if (selectedOption === "To inspire those squishy toy companies") {
      document.getElementById("toy").style.display = "block";
    }
    if (selectedOption === "Me (mehul)") {
      document.getElementById("me").style.display = "block";
    }
    if (selectedOption === "You would find a way to punch me in the balls, winning by eliminating the competition. (ruthless)") {
      document.getElementById("elimination").style.display = "block";
    }
    if (selectedOption === "Sleeping") {
      document.getElementById("sleeping").style.display = "block";
    }
    if (selectedOption === "Smiling") {
      document.getElementById("smiling").style.display = "block";
    }



  }

  // Function to show next question and scroll to it
  function showNextQuestion(nextQuestionId, selectElement) {
    funUpdates(selectElement);

    // Check the correct answer
    const correctAnswer = checkCorrectAnswer(selectElement);

    if (correctAnswer && nextQuestionId === null) {
      // Trigger hearts effect only for the last question
      triggerHearts();
    } else if (correctAnswer) {
      // Trigger confetti effect for other questions
      triggerConfetti();
    } else if (!correctAnswer && nextQuestionId === null) {
      alert('Try again.');
    } else if (!correctAnswer){
      // Add shake animation for the wrong answer
      selectElement.classList.add('shake');
      setTimeout(() => {
        selectElement.classList.remove('shake');
      }, 500);
    }

    // Fade in next question
    if (nextQuestionId) {
      const nextQuestion = document.getElementById(nextQuestionId);
      nextQuestion.style.display = 'block';
      // Scroll to next question
      nextQuestion.scrollIntoView({behavior: 'smooth'});
    } else {
      // No next question, end of quiz
    }

  }

  // Function to check the correct answer
  function checkCorrectAnswer(selectElement) {
    const option = selectElement.options[selectElement.selectedIndex];
    return option.getAttribute('data-correct') === 'true';
  }

  // Function to trigger confetti effect
  function triggerConfetti() {
    const duration = 2000;
    const animationEnd = Date.now() + duration;
    const defaults = {startVelocity: 30, spread: 360, ticks: 60, zIndex: 0};

    function randomInRange(min, max) {
      return Math.random() * (max - min) + min;
    }

    const interval = setInterval(function () {
      const timeLeft = animationEnd - Date.now();

      if (timeLeft <= 0) {
        return clearInterval(interval);
      }

      const particleCount = 20 * (timeLeft / duration);
      // since particles fall down, start a bit higher than random
      confetti(Object.assign({}, defaults, {
        particleCount,
        origin: {x: randomInRange(0.1, 0.3), y: Math.random() - 0.2}
      }));
      confetti(Object.assign({}, defaults, {
        particleCount,
        origin: {x: randomInRange(0.7, 0.9), y: Math.random() - 0.2}
      }));
    }, 250);
  }

  // Function to trigger hearts effect
  function triggerHearts() {
    const numberOfHearts = 10; // Number of hearts to generate
    const container = document.querySelector('.container'); // Container element

    // Create heart elements and append them to the container
    for (let i = 0; i < numberOfHearts; i++) {
      const heart = document.createElement('div');
      heart.className = 'heart';
      heart.style.left = Math.random() * 100 + 'vw'; // Random horizontal position
      heart.style.animationDuration = Math.random() * 2 + 1 + 's'; // Random animation duration between 1 and 3 seconds
      container.appendChild(heart);
    }
  }

  // Show the first question initially
  document.getElementById('question1').style.display = 'block';
</script>
</body>
</html>
